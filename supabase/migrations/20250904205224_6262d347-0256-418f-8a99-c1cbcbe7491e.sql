-- Step 1: Drop ALL foreign key constraints that reference user_id columns
ALTER TABLE test_users DROP CONSTRAINT IF EXISTS test_users_profile_id_fkey;
ALTER TABLE partner_preferences DROP CONSTRAINT IF EXISTS partner_preferences_user_id_fkey;
ALTER TABLE qcs DROP CONSTRAINT IF EXISTS qcs_user_id_fkey;
ALTER TABLE subscription_limits DROP CONSTRAINT IF EXISTS subscription_limits_user_id_fkey;
ALTER TABLE subscribers DROP CONSTRAINT IF EXISTS subscribers_user_id_fkey;
ALTER TABLE subscription_history DROP CONSTRAINT IF EXISTS subscription_history_user_id_fkey;
ALTER TABLE identity_verifications DROP CONSTRAINT IF EXISTS identity_verifications_user_id_fkey;
ALTER TABLE blocks DROP CONSTRAINT IF EXISTS blocks_user_id_fkey;
ALTER TABLE blocks DROP CONSTRAINT IF EXISTS blocks_blocked_user_id_fkey;
ALTER TABLE enhanced_swipes DROP CONSTRAINT IF EXISTS enhanced_swipes_user_id_fkey;
ALTER TABLE enhanced_swipes DROP CONSTRAINT IF EXISTS enhanced_swipes_target_user_id_fkey;
ALTER TABLE enhanced_matches DROP CONSTRAINT IF EXISTS enhanced_matches_user1_id_fkey;
ALTER TABLE enhanced_matches DROP CONSTRAINT IF EXISTS enhanced_matches_user2_id_fkey;
ALTER TABLE swipes DROP CONSTRAINT IF EXISTS swipes_user_id_fkey;
ALTER TABLE swipes DROP CONSTRAINT IF EXISTS swipes_candidate_id_fkey;
ALTER TABLE matches DROP CONSTRAINT IF EXISTS matches_liker_id_fkey;
ALTER TABLE matches DROP CONSTRAINT IF EXISTS matches_liked_id_fkey;
ALTER TABLE chat_rooms DROP CONSTRAINT IF EXISTS chat_rooms_user1_id_fkey;
ALTER TABLE chat_rooms DROP CONSTRAINT IF EXISTS chat_rooms_user2_id_fkey;
ALTER TABLE chat_messages DROP CONSTRAINT IF EXISTS chat_messages_sender_id_fkey;
ALTER TABLE user_interactions DROP CONSTRAINT IF EXISTS user_interactions_user_id_fkey;
ALTER TABLE user_interactions DROP CONSTRAINT IF EXISTS user_interactions_target_user_id_fkey;
ALTER TABLE blind_dates DROP CONSTRAINT IF EXISTS blind_dates_requester_id_fkey;
ALTER TABLE blind_dates DROP CONSTRAINT IF EXISTS blind_dates_recipient_id_fkey;
ALTER TABLE admin_reports DROP CONSTRAINT IF EXISTS admin_reports_reporter_id_fkey;
ALTER TABLE admin_reports DROP CONSTRAINT IF EXISTS admin_reports_reported_user_id_fkey;
ALTER TABLE admin_reports DROP CONSTRAINT IF EXISTS admin_reports_reviewed_by_fkey;
ALTER TABLE compatibility_scores DROP CONSTRAINT IF EXISTS compatibility_scores_user1_id_fkey;
ALTER TABLE compatibility_scores DROP CONSTRAINT IF EXISTS compatibility_scores_user2_id_fkey;